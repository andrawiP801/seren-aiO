{% extends 'base.html' %}
{% load static %}

{% block title %}Estado Emocional - SerenAI{% endblock %}

{% block headerTitle %}
	<div class="page-title d-none d-md-block">
		<h2>Estado Emocional</h2>
	</div>
{% endblock headerTitle %}

{% block main %}
<div class="emotional-state-container">
    <div class="main-content">
        <div class="calendar-section">
            <img src="{% static 'images/calendar_icon.png' %}" alt="Calendar Icon" class="calendar-icon">
        </div>
        <div class="recommendation-section">
            <h2>Recomendación Actividad</h2>
            <div class="activity-recommendation" id="activity-recommendation">
                {% with activities={
                    "Respiración profunda": "1. Encuentra un lugar cómodo para sentarte.\n2. Cierra los ojos y respira profundamente por la nariz.\n3. Exhala lentamente por la boca.\n4. Repite este proceso por 5 minutos.",
                    "Meditación guiada": "1. Encuentra un lugar tranquilo.\n2. Siéntate en una posición cómoda.\n3. Sigue una meditación guiada en una aplicación o video.\n4. Concéntrate en tu respiración.",
                    "Ejercicio ligero": "1. Realiza una caminata de 10 minutos.\n2. Haz estiramientos suaves.\n3. Realiza movimientos de yoga simples.",
                    "Escuchar música relajante": "1. Encuentra una lista de reproducción de música relajante.\n2. Siéntate en un lugar cómodo.\n3. Cierra los ojos y concéntrate en la música.",
                    "Leer un libro": "1. Escoge un libro que te guste.\n2. Encuentra un lugar tranquilo para leer.\n3. Dedica al menos 15 minutos a la lectura.",
                    "Tomar un baño caliente": "1. Llena la bañera con agua caliente.\n2. Añade sales de baño o aceites esenciales.\n3. Relájate en el agua durante 20 minutos."
                } %}
                {% set activity, details = activities|dictsort:true|random %}
                <span id="activity-name" onclick="showActivityDetails('{{ activity }}', '{{ details|escapejs }}')">{{ activity }}</span>
                {% endwith %}
            </div>
        </div>
    </div>
    <div class="emotional-buttons">
        <button class="emotion-button joy">Alegría</button>
        <button class="emotion-button sadness">Tristeza</button>
        <button class="emotion-button anger">Furia</button>
        <button class="emotion-button disgust">Desagrado</button>
        <button class="emotion-button fear">Miedo</button>
    </div>
</div>

<!-- Modal for activity details -->
<div id="activityModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2 id="modal-activity-name"></h2>
        <p id="modal-activity-details"></p>
    </div>
</div>

<script>
function showActivityDetails(activityName, activityDetails) {
    document.getElementById('modal-activity-name').innerText = activityName;
    document.getElementById('modal-activity-details').innerText = activityDetails;
    document.getElementById('activityModal').style.display = "block";
}

function closeModal() {
    document.getElementById('activityModal').style.display = "none";
}
</script>
{% endblock main %}
